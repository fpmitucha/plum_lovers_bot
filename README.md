# PLS Onboarding Bot (aiogram v3)

Телеграм-бот для онбординга в группу PLS с ручным одобрением администратором и проверкой корректности вступления по персональной ссылке-приглашению (1 человек, 24 часа).

## Возможности

- `/start` — фотография + краткое описание + кнопка **«Вступить в PLS»**.
- Запрос **slug** в формате `first-last-university-program-group-course-startyear`, пример:
- Проверка «базы» (roster). Если slug найден — пользователь уже состоит в группе, просим использовать один аккаунт.
- Если slug не найден — создаётся **заявка**, администратору приходит карточка с кнопками:
- **Approve** — пользователю отправляется ссылка на свод правил и кнопка **«Принимаю правила»**.
- **Deny** — бот просит у админа причину и отправляет пользователю оформленный отказ.
- После принятия правил бот создаёт **пригласительную ссылку** в целевой чат:
- `member_limit = 1`, `expire_date = +24h`.
- Бот отслеживает вступление и **сверяет ID** вступившего с ожидаемым.
  - Если ID **не совпадает** — удаляет участника из чата и добавляет в чёрный список.
  - Если ID совпадает — всё ок, запись инвайта удаляется.

## Требования

- Python 3.11+
- aiogram 3.x
- SQLite (по умолчанию) или любой поддерживаемый SQLAlchemy драйвер

## Быстрый старт

1. Склонируйте репозиторий и установите зависимости:

 ```bash
 uv venv  # или python -m venv .venv
 uv pip install -r <(uv pip compile pyproject.toml)  # либо просто: pip install -e .
 # или: pip install aiogram pydantic SQLAlchemy python-dotenv
